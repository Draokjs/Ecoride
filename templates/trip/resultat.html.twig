{% extends 'base.html.twig' %}

{% block body %}
<div class="container my-5">

  <h2 class="mb-4" id="result-title">Résultats :</h2>

  <div class="mb-4">
    <p id="valuedeparture" class="lead"></p>
    <p id="datedeparture" class="lead"></p>
    <div id="tripresultdate" class="alert alert-primary" role="alert"></div>
    <p id="tripstart" class="lead"></p>
    <p id="tripend" class="lead"></p>
    <p id="triplength" class="lead"></p>
  </div>

  {% if app.session.flashbag.has('success') %}
    <div class="alert alert-success">
      {{ app.session.flashbag.get('success')[0] }}
    </div>
  {% endif %}

  {% if trips is not empty %}
    <ul class="list-group">
      {% for trip in trips %}
        <li class="list-group-item">
          <strong>{{ trip.villeDepart }}</strong> → <strong>{{ trip.villeArrivee }}</strong><br>
          Départ : {{ trip.dateDepart|date('d/m/Y') }}<br>
          Arrivée : {{ trip.dateArrivee|date('d/m/Y') }}<br>
          Places disponibles : {{ trip.nombrePassagers }}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="alert alert-warning mt-4">Aucun trajet trouvé avec ces critères.</div>
  {% endif %}
</div>
{% endblock %}

{% block javascripts %}
<script>
  window.searchData = {{ search|json_encode|raw|default('{}') }};
</script>
<script src="{{ asset('js/Resultat.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
{% endblock %}
